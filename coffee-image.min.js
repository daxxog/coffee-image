/* CoffeeImage
 * Abstract JavaScript class for images.
 * (c) 2013 David (daXXog) Volm ><> + + + <><
 * Released under Apache License, Version 2.0:
 * http://www.apache.org/licenses/LICENSE-2.0.html  
 */ !function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.CoffeeImage=e()}(this,function(){var t=function(t){var e=this.i=new Image;"string"==typeof t&&(this.src=e.src=t,this.onload=function(){this._ready=!0,this.ready()})};return t.prototype._ready=!1,t.prototype._readyRan=!1,t.prototype.ready=function(t){var e="function"==typeof t;this._ready===!0&&this._readyRan===!1?e&&(this._readyRan=!0,t.apply(this,[this.i])):e?this.__ready=t:"function"==typeof this.__ready&&(this._readyRan=!0,this.__ready())},t.prototype.toImage=function(){return this.i},t});